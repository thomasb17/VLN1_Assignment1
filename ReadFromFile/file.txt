Verklegt? ?námskeið? ?á? ?fyrstu? ?önn
Verkefni 1: Skrár
Verkefnið gildir 10%? af heildareinkunn námskeiðsins
A) Textaskrár
i) (25/100)? Skrifið forrit sem les textaskrá og skrifar hana út á skjáinn nákvæmlega
eins og hún er í skránni, með auðum línum og öllu.
Eftir hverjar 10 línur sem lesnar hafa verið úr skránni er notandanum boðið að
halda áfram eða hætta: “Do you wish to continue (y/n)?”
? Skrifi notandinn inn y? eru næstu 10 línur skrifaðar (nema að skráin endi).
? Skrifi notandinn inn n? hættir forritið keyrslu.
? Skrifi notandinn inn eitthvað annað spyr forritið aftur.
ii) (25/100)? Skrifið forrit sem leyfir notanda að skrifa inn frjálsan texta.
? Í hvert sinn sem notandinn ýtir á enter? er það sem hann hefur skrifað
skráð í textaskrá sem ný lína.
? Ef notandinn byrjar einhverja línu á tákninu \? hættir forritið keyrslu.
Þessi lína er ekki skráð í textaskrána.
Character kóðinn fyrir \? er '\\' vegna þess að \? er notað til að tákna
svokallaða escape characters, t.d. '\n', '\t' o.fl.
? Ef forritið er keyrt aftur er texta þessarar keyrslu bætt aftan við textann í
skránni.
B) Klasar? ?skrifaðir? ?í? ?skrá
Útfærið klasann Superhero sem skal innihalda breytur fyrir nafn (strengur), aldur
(heiltala) og ofurkraft (stafur, e. character). Gott er að gera eftirfarandi aðgerðir ásamt
get og set föllum fyrir breyturnar:
Færibreytulaus smiður sem stillir nafnið á tóman streng (""), aldur á 0 og ofurkraft á 'n'.
Smiður með þrjár færibreytur sem taka gildi fyrir hverja klasabreytu.
i) (30/100)? Yfirskrifið << (ostream) og >> (istream) virkjana þannig að þeir geti
skrifað eina hetju hvort sem er niður í skrá eða út á skjá.
Útfærið forrit sem býður notanda upp á að skrá inn hetju og vista hana í skrá og
einnig að fá upp lista af þeim hetjum sem eru í skránni.
? Forritið skal virka þannig að þegar gildi eru tekin inn af skjánum? ?eða þau
skrifuð út á hann fylgi texti til að leiða notandann gegnum ferlið “please
enter…” og útskýringar á gögnum skv. Eftirfarandi:
? Fallið skrifar út nafn hetjunnar, bil, aldur hennar innan sviga,
tvípunkt, bil og að lokum ofurkraftinn á eftirfarandi hátt:
Ef breytan superpower inniheldur f? er skrifað út Flying
Ef breytan superpower inniheldur g? er skrifað út Giant
Ef breytan superpower inniheldur h? er skrifað út Hacker
Ef breytan superpower inniheldur n? er skrifað út None
Ef breytan superpower inniheldur eitthvað annað: Weakling
Dæmi:? Bjorgvin (27): Hacker
? Þegar skrifað er í skrá? e? ða lesið úr henni þarf þessi aukatexti ekki að
fylgja, heldur þarf forritið bara að skilja það sem skrifað er í skrána og
geta lesið það upp aftur inn í breytu af taginu Superhero. Þá er nóg að
skrifa bara gildin. Annars er frjálst hvernig skrifað er í skrána.
ii) (20/100)? Útfærið forrit sem skráir klasa af taginu Superhero í binary skrár. Ekki
þarf að nota yfirskrifaða straumvirkja heldur er vísun á klasann umbreytt í (char*)
og hann skrifaður í einu lagi niður í skrá. Látið forritið bjóða upp á að notandinn
skrái inn margar ofurhetjur sem endi þá í kviklegu fylki af klasanum Superhero og
skrifið þetta fylki í heild sinni niður í skrána í einni aðgerð. Lesið einnig upp úr
skránni, í einni aðgerð, allar skráningar og látið þær enda í einu kviklegu fylki af
Superhero. Notið << (ostream) virkja úr fyrri liðnum til að skrifa allar hetjurnar út
á skjáinn.
Athugið að til þess að hver færsla sé af fastri stærð er betra að nota static (ekki
kviklegt/dynamic) fylki af char til að geyma strengi (t.d. Superhero.name). Þá er
hámarkslengd á strengnum, en það er í lagi í þessu verkefni. Munið bara að
gera þarf ráð fyrir plássi fyrir '\0' aftast í strengnum, og að hægt er að taka slíkan
streng beint inn af skjánum. Ekki þarf að lesa hann inn staf fyrir staf.